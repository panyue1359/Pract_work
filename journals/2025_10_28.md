## Centos7安装Podman并供普通用户使用
collapsed:: true
	- ((66330953-30ba-4733-b613-5ba891d66493))
- 系统：Centos 7.5.1804，Linux内核版本3.10.0-862.el7.x86_64
- 在root用户下执行以下代码，默认安装1.6.4版Podman，对于普通用户，需要赋予命名空间的使用权，并设置uid和gid的范围 ["potentially insufficient UIDs or GIDs available in user namespace" when pulling · Issue #12715 · containers/podman](https://github.com/containers/podman/issues/12715)
  ``` bash
  yum install -y podman shadow-utils
  
  echo "user.max_user_namespaces=10000" > /etc/sysctl.d/42-rootless.conf
  sysctl -p /etc/sysctl.d/42-rootless.conf
  
  usermod --add-subuids 100000-165535 --add-subgids 100000-165535 用户名
  
  podman system migrate
  ```
- #+BEGIN_WARNING
  问题
  #+END_WARNING
- 创建容器时提示`fuse-overlayfs: cannot mount: Operation not permitted`，查阅github，发现Linux内核至少需要4.18，而CentOS 7.5.1804的Linux内核为3.10，不匹配 [fusermount3: mount failed: Operation not permitted · Issue #5732 · containers/podman](https://github.com/containers/podman/issues/5732#_prevue)
- #+BEGIN_NOTE
  卸载podman
  #+END_NOTE
- 执行`yum -y erase podman`卸载podman [CentOS8卸载podman安装docker - 轶哥](https://www.wyr.me/post/679)