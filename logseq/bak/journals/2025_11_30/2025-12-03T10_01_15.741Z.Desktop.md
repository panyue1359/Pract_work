## Singularity创建容器提示“user namespace disabled”
collapsed:: true
	- ((69202eab-d4f0-48e6-8c09-9ddb00b57ab6))
	  collapsed:: true
		- collapsed:: true
		  >参考
			- ((692aecdb-fb01-42b6-acc0-4b8f811e4a7a))
- 使用conda-forge在HPC登录节点安装singularity3.9.5，执行以下命令创建容器并报错
  ``` bash
  conda activate sing
  singularity shell 镜像名.sif
  INFO:    Converting SIF file to temporary sandbox...
  FATAL:   while extracting Downloads/twophase2406.sif: root filesystem extraction failed: extract command failed: ERROR  : Failed to create user namespace: user namespace disabled
  : exit status 1
  ```
- tsnowlan指出以非root权限安装的singularity在创建容器时需要在所有机器上启用`user namespace`，root权限安装的singularity无此限制 [docker - How to run singularity container on HPC cluster? - ERROR : Failed to create user namespace: user namespace disabled - Stack Overflow](https://stackoverflow.com/questions/69375369/how-to-run-singularity-container-on-hpc-cluster-error-failed-to-create-user#_prevue)
- 使用user namespace创建容器时会自动创建临时沙箱，这会导致明显的性能损失。因此，推荐使用root权限编译源码安装。 [Security in SingularityCE — SingularityCE User Guide 4.3 documentation](https://docs.sylabs.io/guides/latest/user-guide/security.html#configuration-and-limitations-of-user-namespace-mode)